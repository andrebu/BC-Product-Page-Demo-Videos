<style>
	.MagicThumb-swap:hover, .MagicThumb-swap.mt-active-selector {
		border:0;
	}
	#ProductDetails .ProductTinyImageList ul li {
		border: 3px solid #f0efee !important;
		border-radius: 3px;
		transition: border-color 137ms;
	}
	#ProductDetails .ProductTinyImageList ul li:hover {
		border-color: #6ada78 !important;
	}
</style>
<script type="text/javascript">
// Product Page Demo Videos
    $('<style type="text/css"> \
    /* Product Page Video CSS */\
    #videoDemoBtn {\
        width: 70px;\
        height: 73px;\
        border-radius: 60px;\
        position: absolute;\
        cursor: pointer;\
        z-index: 13;\
        display: none;\
        clip: rect(auto, auto, auto, auto);\
        background-color: #39B54A;\
    }\
    #videoDemoBtn.videoPlaying {\
        background-color: #e53b2c;\
    }\
    #videoDemoBtn .triangle {\
        width: 0px;\
        height: 0px;\
        left: 28px;\
        top: 12px;\
        position: absolute;\
        border-top: 8px solid transparent;\
        border-bottom: 10px solid transparent;\
        border-left: 16px solid #fff;\
        z-index: 1;\
        border-radius: 2px;\
        color: #fff;\
    }\
    #videoDemoBtn .triangle:after {\
        content: "Show Video";\
        position: absolute;\
        left: -28px;\
        top: 12px;\
        text-transform: uppercase;\
    }\
    #videoDemoBtn.videoPlaying .triangle {\
        border: 8px solid #fff;\
        left: 26px;\
        top: 12px; \
    }\
    #videoDemoBtn.videoPlaying .triangle:after {\
        content: "Hide Video";\
        left: -18px;\
    }\
    .ProductList li:hover #videoDemoBtn {\
        opacity: 1;\
    }\
    #productDemoVideo {\
        position: absolute;\
        top: 0;\
        left: 0;\
        width: 100%;\
    }\
    #productDemoVideo video {\
        height: 100%;\
        width: 100%;\
    }\
    .ProductDetailsGrid .productAttributeList {\
        /*     display: none; */\
    }\
    #videoDemoThumb {\
        cursor: pointer;\
    }\
    #videoDemoThumb .ProdVideoPlayBtn {\
        position: relative;\
        background-color: #39B54A;\
        height: 100%;\
        display: block;\
    }\
    #videoDemoThumb .triangle {\
        width: 0px;\
        height: 0px;\
        left: 18px;\
        top: 12px;\
        position: absolute;\
        border-top: 10px solid transparent !important;\
        border-bottom: 12px solid transparent !important;\
        border-left: 23px solid white!important;\
        z-index: 1;\
        border-radius: 2px;\
    }\
    /* Play Video Button */\
    #videoDemoThumb .triangle:after {\
        content:" Play \\A Video";\
        position: absolute;\
        left: -29px;\
        top: 18px;\
        color: #fff;\
        text-transform: uppercase;\
        white-space: pre;\
    }\
    /* Stop Video Button */\
    #videoDemoThumb.videoPlaying .ProdVideoPlayBtn {\
        background-color: #DD4B39;\
    }\
    #videoDemoThumb.videoPlaying .triangle {\
        border: 10px solid #fff !important;\
    }\
    #videoDemoThumb.videoPlaying .triangle:after {\
        content:" Stop \\A Video";\
        left: -17px;\
    }\
    @media screen and (max-width: 767px) {\
        #ProductDetails .ProductTinyImageList ul li#videoDemoThumb {\
            display: none;\
        }\
        #videoDemoBtn {\
            display: block;\
            right: 0px;\
            top: 0px;\
            opacity: 1;\
        }\
    }\
	/*#ProductDetails .ProductTinyImageList ul li#videoDemoThumb {\
		display: none;\
	}*/\
    </style>')
        .appendTo('head');

	/*     Existance checker function */
	$.fn.exists = function(callback) {
	    var args = [].slice.call(arguments, 1);
	    if (this.length) {
	        callback.call(this, args);
	    }
	    return this;
	};
	
	/*     Using ECF to check for Video Option Trigger, hiding it, and adding buttons */
	function checkForVideo() {
	    // Legacy -- remove obsolete HasDemoVideo trigger for products which haven't been updated yet
	    $("span:contains('HasDemoVideo')").exists(function() {
	        $(this).closest('.productAttributeRow').hide();
	    });
	    var productNumber = $('#productDetailsAddToCartForm').find('input[name=product_id]').attr('value');
	    $.ajax({
	        url: '/content/videos/' + productNumber + '.mp4',
	        type: 'HEAD',
	    }).success(function() {
	        var ProductThumb = $('.ProductThumb');
	        var ProductTinyImageList = $('.ProductTinyImageList ul');
	        ProductThumb.append('<span id="videoDemoBtn" class=""><div class="triangle"></div></span>');
	        //ProductTinyImageList.append('<li id="videoDemoThumb" class="" style="height:%%GLOBAL_ProductTinyBoxHeight%%px; width:%%GLOBAL_ProductTinyBoxWidth%%px;"><div class="ProdVideoPlayBtn"><div class="triangle"></div></div></li>');
	        $('#videoDemoThumb').css('display','block');
	    }).fail(function() {
		    $('#videoDemoThumb').css('display','none');
	    });
	};
	
	/*    Play/Stop button click triggering functionality */
	function playStopButton () {
		var productNumber = $('#productDetailsAddToCartForm').find('input[name=product_id]').attr('value');
		var videoContainer = '<div id="productDemoVideo">' +
			'<video id="demoVideo" class="video" preload autoplay loop autobuffer muted controls' + 
			'width="100%" height="100%" poster="/content/images/dankstop-loading-running-cat-wbg3.gif">' +
			'<source src="/content/videos/' + productNumber + '.mp4">' +
			'<source src="/content/videos/' + productNumber + '.ogv" type="video/ogg">' +
			'<p>Your browser does not support this video.  Please upgrade your browser!</p>' +
			'</video>' +
			'</div>';
        var playStopBtns = $('#videoDemoThumb, #videoDemoBtn');
        var allThumbLinks = $('.prodThumbImage, .magictoolbox-li');
        function playDemoVideo() {
			$('.ProductThumbImage, .MagicToolboxContainer').append(videoContainer);
			$('#productDemoVideo').hide();
			$(allThumbLinks).addClass('videoPlaying');
			$(playStopBtns).addClass('videoPlaying');
			$('#productDemoVideo').show();
			$('#productDemoVideo').css('height', $('.ProductThumbImage').height() + 'px');
        }
        function stopDemoVideo() {
			$(allThumbLinks).removeClass('videoPlaying');
			$(playStopBtns).removeClass('videoPlaying');
			$('#productDemoVideo').remove();
        }
	    $('.ProductThumb').on('click', function() {
            stopDemoVideo();
	    });
	    $('.ProductThumb').on('click', '#videoDemoThumb, #videoDemoBtn', function(e) {
			e.stopPropagation();
			playDemoVideo();
	    });
	};

	function productPageVideoInit() {
		checkForVideo();
		playStopButton();
	}

	$(document).ready(function() {
		productPageVideoInit();
	});
</script>